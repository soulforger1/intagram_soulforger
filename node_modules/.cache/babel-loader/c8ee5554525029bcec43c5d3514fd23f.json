{"ast":null,"code":"import _slicedToArray from \"/home/soulforger/Desktop/instagram-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/soulforger/Desktop/instagram-demo/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from './components/Header';\nimport Post from './components/Post';\nimport Story from './components/Story';\nimport './App.scss';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport firestore from './firebase';\nexport const web_data = React.createContext(null);\n\nconst Mat = () => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        story = _useState2[0],\n        setStory = _useState2[1];\n\n  const data = {\n    story: [story, setStory]\n  };\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        posts = _useState4[0],\n        setPosts = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        story_data = _useState6[0],\n        setStory_data = _useState6[1];\n\n  let _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      stt = _useState8[0],\n      setStt = _useState8[1];\n\n  const story_code = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(Story, {\n      avatar: story_data[story].pro,\n      name: story_data[story].name,\n      image: story_data[story].img,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      className: \"btn exit_button\",\n      onClick: () => {\n        setStt(!stt);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      style: {\n        fontSize: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"close\")));\n  };\n\n  const getPosts = () => {\n    firestore.collection('posts').onSnapshot(shot => {\n      const allPost = [];\n      shot.forEach(cur => allPost.push(cur.data()));\n      setPosts(allPost);\n    }, error => console.error(error));\n  };\n\n  const getStories = () => {\n    firestore.collection('stories').onSnapshot(shot => {\n      const allStories = [];\n      shot.forEach(cur => allStories.push(cur.data()));\n      setStory_data(allStories);\n    }, error => console.error(error));\n  };\n\n  useEffect(() => {\n    getPosts();\n    getStories();\n  }, []);\n\n  if (story === 3) {\n    setStt(true);\n  }\n\n  console.log(story_data);\n  return React.createElement(web_data.Provider, {\n    value: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"story_code\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/story\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"story_code\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })))));\n};\n\nexport default Mat;","map":{"version":3,"sources":["/home/soulforger/Desktop/instagram-demo/src/App.js"],"names":["React","useState","useEffect","Header","Post","Story","BrowserRouter","Router","Switch","Route","Link","firestore","web_data","createContext","Mat","story","setStory","data","posts","setPosts","story_data","setStory_data","stt","setStt","story_code","pro","name","img","fontSize","getPosts","collection","onSnapshot","shot","allPost","forEach","cur","push","error","console","getStories","allStories","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './components/Header';\nimport Post from './components/Post';\nimport Story from './components/Story';\nimport './App.scss'\nimport './App.css'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport firestore from './firebase';\n\nexport const web_data = React.createContext(null)\n\nconst Mat = () => {\n  const [story, setStory] = useState(0);\n  const data = {\n    story: [story, setStory]\n  }\n  const [posts, setPosts] = useState([]);\n  const [story_data, setStory_data] = useState();\n  let [stt, setStt] = useState(true);\n  const story_code = () => {\n    return (\n      <div>\n        {<Story avatar={story_data[story].pro} name={story_data[story].name} image={story_data[story].img} />}\n        <a className=\"btn exit_button\" onClick={() => { setStt(!stt) }}>\n          <i className=\"material-icons\" style={{ fontSize: \"30px\" }}>close</i>\n        </a>\n      </div>)\n  }\n\n  const getPosts = () => {\n    firestore.collection('posts').onSnapshot((shot) => {\n      const allPost = [];\n      shot.forEach((cur) => allPost.push(cur.data()));\n\n      setPosts(allPost);\n    }, (error) => console.error(error))\n  }\n\n  const getStories = () => {\n    firestore.collection('stories').onSnapshot((shot) => {\n      const allStories = [];\n      shot.forEach((cur) => allStories.push(cur.data()));\n\n      setStory_data(allStories);\n    }, (error) => console.error(error))\n  }\n\n  useEffect(() => {\n    getPosts();\n    getStories();\n  }, []);\n\n  if (story === 3) {\n    setStt(true);\n  }\n\n  console.log(story_data)\n  return (\n    <web_data.Provider value={data}>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <story_code />\n          </Route>\n          <Route exact path=\"/story\">\n            <story_code />\n          </Route>\n        </Switch>\n      </Router>\n    </web_data.Provider>\n  );\n}\n\nexport default Mat;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"/home/soulforger/Desktop/instagram-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/soulforger/Desktop/instagram-demo/src/components/Story.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport './story.scss';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nconst Story = nani => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        widthstate = _useState2[0],\n        setWidthState = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        number = _useState4[0],\n        setNumber = _useState4[1];\n\n  const avatar = nani.avatar;\n  const name = nani.name;\n  const image = nani.image;\n  let instance;\n  const carouselRef = useRef(null);\n  useEffect(() => {\n    if (image.length > 1) {\n      instance = M.Carousel.init(carouselRef.current, {\n        fullWidth: true,\n        noWrap: true,\n        duration: 90\n      });\n      return () => {\n        instance.destroy();\n      };\n    }\n  });\n\n  if (image.length > 1) {\n    var slide = image.map((cur, i) => React.createElement(\"a\", {\n      className: \"carousel-item\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"image\",\n      src: cur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    })));\n    slide = React.createElement(\"div\", {\n      ref: carouselRef,\n      className: \"carousel carousel-slider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, slide, React.createElement(\"a\", {\n      className: \"button\",\n      tabIndex: \"-1\",\n      onClick: () => {\n        instance.prev();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn arrow transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      className: \"button_rigth\",\n      tabIndex: \"-1\",\n      onClick: () => {\n        instance.next();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn arrow transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })));\n  } else var slide = React.createElement(\"a\", {\n    className: \"img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"image\",\n    src: image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }));\n\n  const getComplete = i => {\n    if (i == number) {\n      if (widthstate == 100) {\n        setNumber(number + 1);\n        setWidthState(0);\n      }\n\n      return widthstate;\n    }\n\n    if (i < number) return 100;\n    return 0;\n  };\n\n  useEffect(() => {\n    const load = () => {\n      setWidthState(old => {\n        return Math.min(old + 1, 100);\n      });\n    };\n\n    const timer = setInterval(load, 100);\n    return () => {\n      clearInterval(timer);\n    };\n  });\n  const progress_loader = image.map((cur, i) => React.createElement(\"div\", {\n    className: \"progress\",\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"determinate\",\n    key: i,\n    id: \"loader\" + i,\n    style: {\n      width: getComplete(i) + '%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })));\n  return React.createElement(\"div\", {\n    className: \"story_back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"story hide-on-med-and-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"collection with-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"collection-item avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"circle profile\",\n    src: avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    className: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, name), React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"1h\")), React.createElement(\"a\", {\n    href: \"#!\",\n    className: \"secondary-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons white-text\",\n    style: {\n      fontSize: \"30px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"more_horizs\")))), React.createElement(\"div\", {\n    className: \"progress_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, progress_loader), slide));\n};\n\nexport default Story;","map":{"version":3,"sources":["/home/soulforger/Desktop/instagram-demo/src/components/Story.js"],"names":["React","useEffect","useRef","useState","M","Story","nani","widthstate","setWidthState","number","setNumber","avatar","name","image","instance","carouselRef","length","Carousel","init","current","fullWidth","noWrap","duration","destroy","slide","map","cur","i","prev","next","getComplete","load","old","Math","min","timer","setInterval","clearInterval","progress_loader","width","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './story.scss'\nimport M from 'materialize-css/dist/js/materialize.min.js'\n\nconst Story = (nani) => {\n    const [widthstate, setWidthState] = useState(0);\n    const [number, setNumber] = useState(0);\n    const avatar = nani.avatar;\n    const name = nani.name;\n    const image = nani.image;\n\n    let instance;\n    const carouselRef = useRef(null);\n\n    useEffect(() => {\n        if (image.length > 1) {\n            instance = M.Carousel.init(carouselRef.current, {\n                fullWidth: true,\n                noWrap: true,\n                duration: 90\n            })\n\n            return () => {\n                instance.destroy();\n            }\n        }\n    })\n\n    if (image.length > 1) {\n        var slide = image.map((cur, i) => (<a className=\"carousel-item\" key={i}><img className=\"image\" src={cur} /></a>))\n        slide = (\n            <div ref={carouselRef} className=\"carousel carousel-slider\">\n                {slide}\n                <a className=\"button\" tabIndex=\"-1\" onClick={() => { instance.prev() }}><div className=\"btn arrow transparent\"></div></a>\n                <a className=\"button_rigth\" tabIndex=\"-1\" onClick={() => { instance.next() }}><div className=\"btn arrow transparent\"></div></a>\n            </div>\n        )\n    } else\n        var slide = (<a className=\"img\"><img className=\"image\" src={image} /></a>)\n\n\n    const getComplete = (i) => {\n        if (i == number) {\n            if (widthstate == 100) {\n                setNumber(number + 1);\n                setWidthState(0);\n            }\n            return widthstate;\n        }\n        if (i < number)\n            return 100;\n\n        return 0;\n    }\n\n    \n    useEffect(() => {\n        const load = () => {\n            setWidthState((old) => {\n                return Math.min(old + 1, 100)\n            })\n        }\n    \n        const timer = setInterval(load, 100)\n\n        return () => {\n            clearInterval(timer);\n        }\n    })\n\n    const progress_loader = image.map((cur, i) => (\n        <div className=\"progress\" key={i}>\n            <div className=\"determinate\" key={i} id={\"loader\" + i} style={{ width: getComplete(i) + '%' }}></div>\n        </div>\n    ))\n\n    return (\n        <div className='story_back'>\n            <div className='story hide-on-med-and-down'>\n                <ul className=\"collection with-header\">\n                    <li className=\"collection-item avatar\">\n                        <img className='circle profile' src={avatar}></img>\n                        <div className=\"text\">\n                            <h6 className='h5'>{name}</h6>\n                            <h6>1h</h6>\n                        </div>\n                        <a href=\"#!\" className=\"secondary-content\"><i className=\"material-icons white-text\" style={{ fontSize: \"30px\" }}>more_horizs</i></a>\n                    </li>\n                </ul>\n                <div className=\"progress_container\">\n                    {progress_loader}\n                </div>\n                {slide}\n            </div>\n        </div>\n    )\n}\n\nexport default Story;"]},"metadata":{},"sourceType":"module"}